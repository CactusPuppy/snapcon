$( document ).ready(function() {
    let calendarEl = document.getElementById('vert-schedule-full-calendar');
    if (!calendarEl) return; //check that we need a vertical schedule
    let fullcalData = $('#fullcalendar');

    let license_key = "<%= Rails.configuration.fullcalendar[:license_key] %>";

    var calendar = new FullCalendar.Calendar(calendarEl, {
      schedulerLicenseKey: license_key,
      nowIndicator: true,
      now: fullcalData.data('now'),
      expandRows: true,
      allDaySlot: false,
      slotMinTime: fullcalData.data('startHour') + ':00:00',
      slotMaxTime: fullcalData.data('endHour') + ':00:00',
      validRange: {
        start: fullcalData.data('startDate'),
        end: fullcalData.data('endDate')
      },
      timeZone: fullcalData.data('timezone'),
      initialDate: fullcalData.data('day'),
      initialView: 'resourceTimeGridDay',
      resources: fullcalData.data('rooms'),
      resourceOrder: 'order, title',
      events: fullcalData.data('events')
    });

    calendar.render();
});
